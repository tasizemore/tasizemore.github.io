<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RSVP - Carly & Tim</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Cormorant+Garamond:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>

    <nav>
        <div class="nav-container">
            <a href="index.html" class="logo">C & T</a>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="rsvp.html" class="active">RSVP</a></li>
                <li><a href="#" target="_blank" class="registry-btn">Registry</a></li>
            </ul>
        </div>
    </nav>

    <section class="rsvp-section">
        <div class="container">
            <h2>RSVP</h2>
            <p>Please respond by September 1st, 2026</p>

            <form id="rsvp-form" class="rsvp-form">
                <button type="submit" id="submit-btn">Send RSVP</button>
            </form>

            <script>
                const scriptURL = 'https://script.google.com/macros/s/AKfycbzzgFnxj9566GoI-kkNamoZTDo5CU3vkkrjF4_fWMEJ4eL0sK1W1aBDPQtS4G97Jek/exec';
                const form = document.getElementById('rsvp-form');
                const btn = document.getElementById('submit-btn');

                form.addEventListener('submit', e => {
                    e.preventDefault();
                    btn.disabled = true;
                    btn.innerHTML = "Sending...";

                fetch(scriptURL, { method: 'POST', body: new FormData(form)})
                    .then(response => {
                        window.location.href = "thank-you.html"; // Redirect on success
                    })
                    .catch(error => {
                        alert('Error! Please try again.');
                        btn.disabled = false;
                        btn.innerHTML = "Send RSVP";
                    });
                });
            </script>
        </div>
    </section>
</body>
</html>